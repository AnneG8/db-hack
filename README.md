# db-hack

Данный скрипт помогает внести изменения в данные [этого электронного дневника](https://github.com/devmanorg/e-diary/tree/master): позволяет исправить плохие оценки, удалить замечания и добавить похвал.

### Установка

Python3 должен быть уже установлен. 
Поместите файл `scripts.py` рядом с `manage.py`.

### Запуск

Если работаете с Windows, используйте `python` вместо `python3` в командах ниже.

1) Запустите `python3 manage.py shell` 
2) Войдите в Django shell с помощью `python3 manage.py shell`. Получите вывод:
	```shell
	(InteractiveConsole)
	```

3) Импортируйте скрипт `import scripts`
4) По желанию введите следующие команды:
	- исправит оценки 2 и 3 на 5 для выбранного ученика: 
		```shell
		>>> scripts.fix_marks(schoolkid)
		```

	- удалит все замечания у выбранного ученика: 
		```shell
		>>> scripts.remove_chastisements(schoolkid)
		```

	- добавит одну похвалу по указанному предмету у выбранного ученика: 
		```shell
		>>> scripts.create_commendation(schoolkid, subject, сommendation)
		```
	Параметр `schoolkid` обязательный, должен содержать ФИО ученика, чьи данные требуется исправить, можно указать не полностью. Если в базе нашлось несколько подходящих учеников или ни одного, функция завершится, выдав ошибку.

	Параметр `subject` обязательный, должен содержать название школьного предмета. В случае, если такой предмет не найден, выдаст ошибку. В случае, если по всем прошедшим урокам по данному предмету уже есть похвала, выдаст ошибку.

	Параметр `сommendation` не обязательный, позволяет задать похвалу самостоятельно. Если не указан, будет выбран один из стандартных вариантов.

### Цель проекта

Код написан в образовательных целях на онлайн-курсе для веб-разработчиков [dvmn.org](https://dvmn.org/).
